extern func main(): int {
  var nrows = 3;
  var ncols = 5;

  var matrix = new([][]int, nrows);
  for var row = 0; row < nrows; row++ {
    matrix[row] = new([]int, ncols);
  }

  var n = 1;
  for var row = 0; row < nrows; row++ {
    for var col = 0; col < ncols; col++ {
      matrix[row][col] = n;
      n++;
    }
  }

  for var row = 0; row < nrows; row++ {
    for var col = 0; col < ncols; col++ {
      printf("%2d", matrix[row][col]);
      if col != ncols - 1 {
        printf(" ");
      }
    }
    printf("\n");
  }

  for var row = 0; row < nrows; row++ {
    dispose(matrix[row]);
  }

  dispose(matrix);
  return 0;
}
